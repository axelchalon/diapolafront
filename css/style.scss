@import "reset.css";

$primarybg: white;
$secondarybg: #f8f8f8;
$dark: #727272;
$gray: #f8f8f8;
$ondark: white;
$black: #333;
$disabled: #c7c7cc;
$delineator: #ececec;

$gridcols: 12;
$gridgutter: 10px;
$gridoutermargin: 20px;

// used for width
@function colspan($span){
    // 1 column
    // 1 column = $col_width: calc(100vw - 2*$gridoutermargin - ($gridcols-1)*$gridgutter) / $gridcols
    
    //
    //$vw: 500px;
    //$result: #{($vw - 2 * $gridoutermargin - ($gridcols - 1)*$gridgutter) / $gridcols * $span + $gridgutter * ($span - 1)};
    //@return $result
        
        // @return calc((100vw + #{-2 * $gridoutermargin - ($gridcols - 1)*$gridgutter}) / #{$gridcols * $span} + #{$gridgutter * ($span - 1)});        bugg√©, revoir
    
    @return calc((500px - 2*#{$gridoutermargin} - #{$gridcols - 1} * #{$gridgutter}) / #{$gridcols} * #{$span} + #{$gridgutter} * #{$span - 1})
}

// used for margin
@function colspanm($span){
    // 1 column
    // 1 column = $col_width: calc(100vw - 2*$gridoutermargin - ($gridcols-1)*$gridgutter) / $gridcols
    
    
   // @if $span == 0 { @return $gridgutter }
    
    // $vw: 500px;
    // $result: #{((($vw - 2 * $gridoutermargin - ($gridcols - 1)*$gridgutter) / $gridcols) + $gridgutter) * $span + $gridgutter};
    // @return $result
    
    // @return calc((500px - 2*#{$gridoutermargin} - (#{$gridcols}-1)*#{$gridgutter}) / #{$gridcols} * #{$span} + #{$gridgutter} * (#{$span}))
    
    @return calc((((500px - 2 * #{$gridoutermargin} - #{$gridcols - 1} * #{$gridgutter}) / #{$gridcols}) + #{$gridgutter}) * #{$span} + #{$gridgutter});
}

// @todo mixin grid qui ajoute padding-left et padding-right
// @todo mixin gridwidth(2) et gridmarginright(2)

.gridtest { height: 20px; margin-bottom: 5px; background: pink; }
.one { width: colspan(1); }
.two { width: colspan(2); }
.three { width: colspan(3); }
.four { width: colspan(4); }
.five { width: colspan(5); }
.six { width: colspan(6); }
.seven { width: colspan(7); }
.eight { width: colspan(8); }
.nine { width: colspan(9); }
.ten { width: colspan(10); }
.eleven { width: colspan(11); }
.twelve { width: colspan(12); }
.a { display: inline-block; width: colspan(1); margin-right: colspanm(1); }
.b { display: inline-block; width: colspan(1); margin-right: colspanm(0); }
.c { display: inline-block; width: colspan(3); margin-right: colspanm(3); }
.d { display: inline-block; width: colspan(3); }

$smaller: 0.85rem;

html { font-size: 13px; font-family: "Gotham Book", Gotham-Book, Arial, sans-serif; }

/*
 * Guidelines:
 * rule: display float width height margin padding border background colors text
 * (todo plugin? haskell)
 */

 @mixin button {
     line-height: 2.7rem;
     border-radius: 4px;
     width: colspan(2);
     border: 1px solid $dark;
 }

 @mixin button-primary-enabled {
    @include button; 
    background: $dark;
    color: $ondark;
 }

@mixin button-secondary-enabled {
    @include button;
}

@mixin button-secondary-disabled {
    @include button;
    color: $disabled;
    border-color: $disabled;
    pointer-events: none;
}

.topBar {
    padding-left: $gridoutermargin;
    padding-right: $gridoutermargin;
    padding-top: 13px;
    padding-bottom: 13px;
    
    background-color: $primarybg;
    /* box-shadow: 0px 4px 4px rgba(0,0,0,0.24); */
    box-shadow: 0 4px 4px 0 rgba(0, 0, 0, 0.24), 0 0 4px 0 rgba(0, 0, 0, 0.12);
    position: relative;
    
    .logo {
        width: colspan(1);
        background: $dark;
        height: 20px;
    }

    .search {
        line-height: 3.5rem;
        background: #ececec;
        width: colspan(5);
    }

    .importPresentation {
      @include button-primary-enabled;
    }
    
    .breadcrumbs {
        font-size: 1.4rem;
        letter-spacing: -0.5px;
        
        .breadcrumbs_breadcrumb {
            color: $disabled;
        }
        
        .breadcrumbs_separator {
            color: $disabled;
        }
        
        .breadcrumbs_breadcrumb-active {
            font-weight: bold;
            color: $black;
        }
    }
}

.page { 
    background: $gray; 
    
    .page_left {
        width: 200px; // ?
        height: 100vh;
        float: left;
        background: orange;
        border-right: 1px solid $delineator;
    }
    
    .page_right {
        .page_right_topBar {
            
            padding: 20px 0 30px 0; // ?
            
            border-bottom: 1px solid $delineator;
            
            .downloadPresentation {
              @include button-secondary-enabled;
            }

            .downloadSelectedSlides:not(.downloadSelectedSlides-disabled) {
              @include button-secondary-enabled;
            }

            .downloadSelectedSlides-disabled {
              @include button-secondary-disabled;
            }

            .presentationComment {
                h3 { display: inline; font-weight: bold; }
                .presentationComment-edit { color: $disabled; font-size: $smaller; }
            }
        }
        
        .page_right_page {
            padding-top: 20px; 
            .page_right_page_slide {
                  width: 227px;
                  height: 141px;
                  border-radius: 4px;
                  background-color: #ffffff;
                  box-shadow: 0 4px 4px 0 rgba(0, 0, 0, 0.24), 0 0 4px 0 rgba(0, 0, 0, 0.12);
                display: inline-block; margin-right: 20px; margin-bottom: 35px;
            }
        }
    }
    
}

.bottomBar {
    background-color: $primarybg;
    position: fixed;
    box-shadow: 0 4px 4px 0 rgba(0, 0, 0, 0.24), 0 0 4px 0 rgba(0, 0, 0, 0.12);
    bottom: 0;
    left: 0; right: 0;
    height: 200px;
    
    .downloadGeneratedPresentation {
      @include button-primary-enabled;
    }
    
    .saveGeneratedPresentation {
      @include button-secondary-enabled;
    }
}
